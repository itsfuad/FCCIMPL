// Test that both branches of narrowing work correctly

// Test 1: x != none
let x: i32? = 10;

if x != none {
    // then: x is i32 (not none)
    let a: i32 = x;  // OK
} else {
    // else: x is none
    let b: i32? = x;  // OK - can assign none to optional
}

// Test 2: y == none
let y: str? = "hello";

if y == none {
    // then: y is none
    let c: str? = y;  // OK - can assign none to optional
} else {
    // else: y is str (not none)
    let d: str = y;  // OK
}

// Test 3: Error cases
let z: i32? = 42;

if z != none {
    // then: z is i32
    let e: str = z;  // ERROR: can't assign i32 to str
} else {
    // else: z is none
    let f: i32 = z;  // ERROR: can't assign none to i32
}
