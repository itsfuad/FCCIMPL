// Edge case: nested struct literals in if condition
type Inner struct {
    .val: i32,
};

type Outer struct {
    .inner: Inner,
    .count: i32,
};

let obj := Outer{ .inner = Inner{ .val = 5}, .count = 10};

// This is the critical test - nested composite literals in condition
if obj == Outer{ .inner = Inner{ .val = 5}, .count = 10} {
    let result := 100;
}

// Another critical case: comparison with block following
let a := 5;
let b := 10;

if a < b {
    let max := b;
} else if a == b {
    let equal := 1;
}

// Mix shorthand and dot syntax
type Mixed struct {
    .x: i32,
    .y: i32,
};

let m1 := Mixed{ .x = 1, .y = 2};
let m2 := Mixed{.x = 3, .y = 4};

if m1 == Mixed{ .x = 1, .y = 2} {
    let t1 := 1;
}

if m2 == Mixed{.x = 3, .y = 4} {
    let t2 := 2;
}
